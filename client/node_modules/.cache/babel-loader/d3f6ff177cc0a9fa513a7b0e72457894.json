{"ast":null,"code":"var _jsxFileName = \"/Users/ozip/Documents/Web_Programming/fin-d-e_deal/client/src/pages/GamePage.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { FaFacebookSquare, FaGlobe, FaYoutube } from \"react-icons/fa\";\nimport { FcWikipedia } from \"react-icons/fc\";\nimport { userStore, layoutStore } from \"../store\";\nimport useWishlists from \"../hooks/useWishlists\";\nimport useWebsites from \"../hooks/useWebsites\";\nimport { fetchGameById, fetchGameCompanies, fetchGameStores, fetchAddRemoveWishlist } from \"../utils/games_api\";\nimport Carousel from \"../components/Carousel\";\nimport loading from \"../assets/img/loading.svg\";\nimport placeholder from \"../assets/img/placeholder.jpg\";\nimport steamIcon from \"../assets/img/steam.png\";\nimport gogIcon from \"../assets/img/gog.png\";\nimport epicgamesIcon from \"../assets/img/epicgames.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst websites = {\n  1: {\n    name: \"Official site\",\n    icon: /*#__PURE__*/_jsxDEV(FaGlobe, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }, this)\n  },\n  2: {\n    name: \"Wiki\",\n    icon: /*#__PURE__*/_jsxDEV(FcWikipedia, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }, this)\n  },\n  4: {\n    name: \"Facebook\",\n    icon: /*#__PURE__*/_jsxDEV(FaFacebookSquare, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }, this)\n  },\n  9: {\n    name: \"YouTube\",\n    icon: /*#__PURE__*/_jsxDEV(FaYoutube, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this)\n  }\n};\n\nconst GamePage = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [game, setGame] = useState(null);\n  const [companies, setCompanies] = useState([]);\n  const {\n    stores = null\n  } = useWebsites(game && game.id, game && (game.websites instanceof Array ? game.websites : []));\n  useEffect(() => {\n    fetchGameById(id).then(res => {\n      if (res.success) {\n        const {\n          game\n        } = res.data;\n        const {\n          involved_companies: companies\n        } = game;\n        setGame(game);\n        return fetchGameCompanies(companies instanceof Array ? companies.map(({\n          company: name\n        }) => name) : []);\n      } else {\n        throw res.errors;\n      }\n    }).then(res => {\n      if (res.success) {\n        const {\n          companies\n        } = res.data;\n        setCompanies(companies || []);\n      }\n    }).catch(() => null);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-cover-wishlist\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-cover\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: game && game.cover ? `https:${game.cover.replace(\"t_thumb\", \"t_cover_big\")}` : placeholder,\n          alt: `${game && game.name || \"game\"}'s cover`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GameWishlist, {\n        gameid: game && game.id,\n        wishlistedBy: game && game.wishlistedBy || {\n          count: 0,\n          users: []\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"game-title\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: game && game.name || \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"About\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GameInfo, {\n          title: \"Release Date: \",\n          data: game && new Date(parseInt(game.first_release_date) * 1000).toDateString() || \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GameInfo, {\n          title: \"Genre: \",\n          data: game && game.genres ? game.genres.reduce((prev, curr) => prev + curr + \",  \", \"\") : \"genres...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), game && game.companies && /*#__PURE__*/_jsxDEV(GameInfo, {\n          title: \"Developer: \",\n          data: companies instanceof Array && game.involved_companies instanceof Array && companies.reduce((prev, {\n            id,\n            name\n          }, index) => {\n            const {\n              involved_companies\n            } = game;\n            const company = involved_companies[involved_companies.findIndex(({\n              company\n            }) => company === id + \"\")];\n            if (!company) return prev;\n            return company.developer ? prev + name + (index < companies.length - 1 ? \", \" : \"\") : prev;\n          }, \"\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), game && game.companies && /*#__PURE__*/_jsxDEV(GameInfo, {\n          title: \"Publisher: \",\n          data: companies instanceof Array && game.involved_companies instanceof Array && companies.reduce((prev, {\n            id,\n            name\n          }, index) => {\n            const {\n              involved_companies\n            } = game;\n            const company = involved_companies[involved_companies.findIndex(({\n              company\n            }) => company === id + \"\")];\n            if (!company) return prev;\n            return company.publisher ? prev + name + (index < companies.length - 1 ? \", \" : \"\") : prev;\n          }, \"\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GameInfo, {\n          title: \"Summary: \",\n          data: game && game.summary || \"summary...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-websites\",\n          children: game && game.websites instanceof Array && game.websites.map(({\n            category,\n            url\n          }) => websites[category] && /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"website-item\",\n            href: url,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: [websites[category].icon, /*#__PURE__*/_jsxDEV(\"span\", {\n              children: websites[category].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 23\n            }, this)]\n          }, category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GameScreenshots, {\n      title: game && game.name || \"title\",\n      screenshots: game && game.screenshots instanceof Array ? game.screenshots : []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-available-stores details-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-title\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Available At: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), stores ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [stores && stores.steam && /*#__PURE__*/_jsxDEV(StoreItem, {\n          name: \"Steam\",\n          icon: steamIcon,\n          storeInfo: stores.steam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }, this), stores && stores.gog && /*#__PURE__*/_jsxDEV(StoreItem, {\n          name: \"GOG\",\n          icon: gogIcon,\n          storeInfo: stores.gog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }, this), stores && stores.epicgames && /*#__PURE__*/_jsxDEV(StoreItem, {\n          name: \"Epic Games\",\n          icon: epicgamesIcon,\n          storeInfo: stores.epicgames\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"loading-stores\",\n        children: \"Searching for stores...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GamePage, \"oBq0S1y1sgK2isqO//B9aJFvqpU=\", false, function () {\n  return [useParams, useWebsites];\n});\n\n_c = GamePage;\n\nconst GameInfo = ({\n  title,\n  data\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-info\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"info-name\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"info-body\",\n      children: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = GameInfo;\n\nconst GameScreenshots = ({\n  title,\n  screenshots\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-screenshots\",\n    children: /*#__PURE__*/_jsxDEV(Carousel, {\n      items: screenshots,\n      render: (image, key) => /*#__PURE__*/_jsxDEV(ScreenshotItem, {\n        title: title,\n        image: image,\n        distance: \"10\"\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = GameScreenshots;\n\nconst ScreenshotItem = ({\n  title,\n  image,\n  distance = 0\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"carousel-item\",\n    style: {\n      borderLeft: `${parseInt(distance) / 2}px solid hsl(220, 13%, 18%, 80%)`,\n      borderRight: `${parseInt(distance) / 2}px solid hsl(220, 13%, 18%, 80%)`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel-image\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http:${image}`.replace(\"t_thumb\", \"t_screenshot_huge\"),\n        alt: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n\n_c4 = ScreenshotItem;\n\nconst StoreItem = ({\n  storeInfo,\n  icon,\n  name\n}) => {\n  const {\n    url,\n    prices\n  } = storeInfo;\n  const discount = parseInt(prices.discount.match(/\\d+/));\n  return /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"store-item\",\n    href: url,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    onClick: e => e.stopPropagation(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"store-item-steam\",\n      className: \"store-item-icon\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: icon,\n        alt: \"steam logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"store-item-name\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"store-item-prices\",\n      children: [prices && prices.discount && discount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"store-item-discount\",\n        children: prices.discount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), prices && prices.fullPrice && discount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"store-item-fullprice\",\n        children: prices.fullPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this), prices && prices.currentPrice && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"store-item-currentprice\",\n        children: prices.currentPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 5\n  }, this);\n};\n\n_c5 = StoreItem;\n\nconst GameWishlist = ({\n  gameid,\n  wishlistedBy\n}) => {\n  _s2();\n\n  const {\n    token,\n    user\n  } = userStore(state => state);\n  const {\n    isWishlisted,\n    addToWishlist,\n    removeFromWishlist\n  } = useWishlists(gameid);\n  const [isFetching, setIsFetching] = useState(false);\n  const {\n    setShowLoginForm\n  } = layoutStore(state => state);\n  const [wishlistCount, setWishlistCount] = useState(0);\n  useEffect(() => {\n    setWishlistCount(wishlistedBy.count);\n  }, [wishlistedBy]);\n\n  async function addRemoveWishlist() {\n    if (!user) {\n      return setShowLoginForm(true);\n    }\n\n    setIsFetching(true);\n\n    if (isWishlisted) {\n      removeFromWishlist(gameid);\n      setWishlistCount(wishlistCount - 1);\n      const {\n        success\n      } = await fetchAddRemoveWishlist(gameid, token);\n\n      if (!success) {\n        setWishlistCount(wishlistCount + 1);\n        addToWishlist(gameid);\n      }\n    } else {\n      addToWishlist(gameid);\n      setWishlistCount(wishlistCount + 1);\n      const {\n        success\n      } = await fetchAddRemoveWishlist(gameid, token);\n\n      if (!success) {\n        setWishlistCount(wishlistCount - 1);\n        removeFromWishlist(gameid);\n      }\n    }\n\n    setIsFetching(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-wishlist\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-button\",\n      onClick: addRemoveWishlist,\n      children: isWishlisted ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: isFetching ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loading,\n          alt: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Wishlisted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: isFetching ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loading,\n          alt: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add to Wishlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-count\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [wishlistCount, \" Wishlists\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(GameWishlist, \"afCtNt7q8uwDUAOMRoKAhFOXMmw=\", false, function () {\n  return [useWishlists];\n});\n\n_c6 = GameWishlist;\nexport default GamePage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"GamePage\");\n$RefreshReg$(_c2, \"GameInfo\");\n$RefreshReg$(_c3, \"GameScreenshots\");\n$RefreshReg$(_c4, \"ScreenshotItem\");\n$RefreshReg$(_c5, \"StoreItem\");\n$RefreshReg$(_c6, \"GameWishlist\");","map":{"version":3,"sources":["/Users/ozip/Documents/Web_Programming/fin-d-e_deal/client/src/pages/GamePage.jsx"],"names":["useState","useEffect","useParams","FaFacebookSquare","FaGlobe","FaYoutube","FcWikipedia","userStore","layoutStore","useWishlists","useWebsites","fetchGameById","fetchGameCompanies","fetchGameStores","fetchAddRemoveWishlist","Carousel","placeholder","steamIcon","gogIcon","epicgamesIcon","websites","name","icon","GamePage","id","game","setGame","companies","setCompanies","stores","Array","then","res","success","data","involved_companies","map","company","errors","catch","cover","replace","wishlistedBy","count","users","Date","parseInt","first_release_date","toDateString","genres","reduce","prev","curr","index","findIndex","developer","length","publisher","summary","category","url","screenshots","steam","gog","epicgames","GameInfo","title","GameScreenshots","image","key","ScreenshotItem","distance","borderLeft","borderRight","StoreItem","storeInfo","prices","discount","match","e","stopPropagation","fullPrice","currentPrice","GameWishlist","gameid","token","user","state","isWishlisted","addToWishlist","removeFromWishlist","isFetching","setIsFetching","setShowLoginForm","wishlistCount","setWishlistCount","addRemoveWishlist","loading"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { FaFacebookSquare, FaGlobe, FaYoutube } from \"react-icons/fa\";\nimport { FcWikipedia } from \"react-icons/fc\";\n\nimport { userStore, layoutStore } from \"../store\";\nimport useWishlists from \"../hooks/useWishlists\";\nimport useWebsites from \"../hooks/useWebsites\";\nimport {\n  fetchGameById,\n  fetchGameCompanies,\n  fetchGameStores,\n  fetchAddRemoveWishlist,\n} from \"../utils/games_api\";\n\nimport Carousel from \"../components/Carousel\";\n\nimport loading from \"../assets/img/loading.svg\";\n\nimport placeholder from \"../assets/img/placeholder.jpg\";\nimport steamIcon from \"../assets/img/steam.png\";\nimport gogIcon from \"../assets/img/gog.png\";\nimport epicgamesIcon from \"../assets/img/epicgames.png\";\n\nconst websites = {\n  1: {\n    name: \"Official site\",\n    icon: <FaGlobe />,\n  },\n  2: {\n    name: \"Wiki\",\n    icon: <FcWikipedia />,\n  },\n  4: {\n    name: \"Facebook\",\n    icon: <FaFacebookSquare />,\n  },\n  9: {\n    name: \"YouTube\",\n    icon: <FaYoutube />,\n  },\n};\n\nconst GamePage = () => {\n  const { id } = useParams();\n  const [game, setGame] = useState(null);\n  const [companies, setCompanies] = useState([]);\n  const { stores = null } = useWebsites(\n    game && game.id,\n    game && (game.websites instanceof Array ? game.websites : [])\n  );\n\n  useEffect(() => {\n    fetchGameById(id)\n      .then((res) => {\n        if (res.success) {\n          const { game } = res.data;\n          const { involved_companies: companies } = game;\n\n          setGame(game);\n\n          return fetchGameCompanies(\n            companies instanceof Array\n              ? companies.map(({ company: name }) => name)\n              : []\n          );\n        } else {\n          throw res.errors;\n        }\n      })\n      .then((res) => {\n        if (res.success) {\n          const { companies } = res.data;\n\n          setCompanies(companies || []);\n        }\n      })\n      .catch(() => null);\n  }, []);\n\n  return (\n    <div className=\"game-page-container\">\n      <div className=\"game-cover-wishlist\">\n        <div className=\"game-cover\">\n          <img\n            src={\n              game && game.cover\n                ? `https:${game.cover.replace(\"t_thumb\", \"t_cover_big\")}`\n                : placeholder\n            }\n            alt={`${(game && game.name) || \"game\"}'s cover`}\n          />\n        </div>\n        <GameWishlist\n          gameid={game && game.id}\n          wishlistedBy={(game && game.wishlistedBy) || { count: 0, users: [] }}\n        />\n      </div>\n      <div className=\"game-details\">\n        <header className=\"game-title\">\n          <span>{(game && game.name) || \"Title\"}</span>\n        </header>\n        <hr />\n        <div className=\"details-section\">\n          <div className=\"section-title\">\n            <span>About</span>\n          </div>\n          <GameInfo\n            title=\"Release Date: \"\n            data={\n              (game &&\n                new Date(\n                  parseInt(game.first_release_date) * 1000\n                ).toDateString()) ||\n              \"\"\n            }\n          />\n          <GameInfo\n            title=\"Genre: \"\n            data={\n              game && game.genres\n                ? game.genres.reduce((prev, curr) => prev + curr + \",  \", \"\")\n                : \"genres...\"\n            }\n          />\n          {game && game.companies && (\n            <GameInfo\n              title=\"Developer: \"\n              data={\n                companies instanceof Array &&\n                game.involved_companies instanceof Array &&\n                companies.reduce((prev, { id, name }, index) => {\n                  const { involved_companies } = game;\n                  const company =\n                    involved_companies[\n                      involved_companies.findIndex(\n                        ({ company }) => company === id + \"\"\n                      )\n                    ];\n\n                  if (!company) return prev;\n\n                  return company.developer\n                    ? prev + name + (index < companies.length - 1 ? \", \" : \"\")\n                    : prev;\n                }, \"\")\n              }\n            />\n          )}\n          {game && game.companies && (\n            <GameInfo\n              title=\"Publisher: \"\n              data={\n                companies instanceof Array &&\n                game.involved_companies instanceof Array &&\n                companies.reduce((prev, { id, name }, index) => {\n                  const { involved_companies } = game;\n                  const company =\n                    involved_companies[\n                      involved_companies.findIndex(\n                        ({ company }) => company === id + \"\"\n                      )\n                    ];\n\n                  if (!company) return prev;\n\n                  return company.publisher\n                    ? prev + name + (index < companies.length - 1 ? \", \" : \"\")\n                    : prev;\n                }, \"\")\n              }\n            />\n          )}\n          <GameInfo\n            title=\"Summary: \"\n            data={(game && game.summary) || \"summary...\"}\n          />\n          <div className=\"game-websites\">\n            {game &&\n              game.websites instanceof Array &&\n              game.websites.map(\n                ({ category, url }) =>\n                  websites[category] && (\n                    <a\n                      className=\"website-item\"\n                      href={url}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      key={category}\n                    >\n                      {websites[category].icon}\n                      <span>{websites[category].name}</span>\n                    </a>\n                  )\n              )}\n          </div>\n        </div>\n      </div>\n      <GameScreenshots\n        title={(game && game.name) || \"title\"}\n        screenshots={\n          game && game.screenshots instanceof Array ? game.screenshots : []\n        }\n      />\n      <div className=\"game-available-stores details-section\">\n        <div className=\"section-title\">\n          <span>Available At: </span>\n        </div>\n        {stores ? (\n          <>\n            {stores && stores.steam && (\n              <StoreItem\n                name=\"Steam\"\n                icon={steamIcon}\n                storeInfo={stores.steam}\n              />\n            )}\n            {stores && stores.gog && (\n              <StoreItem name=\"GOG\" icon={gogIcon} storeInfo={stores.gog} />\n            )}\n            {stores && stores.epicgames && (\n              <StoreItem\n                name=\"Epic Games\"\n                icon={epicgamesIcon}\n                storeInfo={stores.epicgames}\n              />\n            )}\n          </>\n        ) : (\n          <h2 className=\"loading-stores\">Searching for stores...</h2>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst GameInfo = ({ title, data }) => {\n  return (\n    <div className=\"game-info\">\n      <span className=\"info-name\">{title}</span>\n      <span className=\"info-body\">{data}</span>\n    </div>\n  );\n};\n\nconst GameScreenshots = ({ title, screenshots }) => {\n  return (\n    <div className=\"game-screenshots\">\n      <Carousel\n        items={screenshots}\n        render={(image, key) => (\n          <ScreenshotItem title={title} image={image} key={key} distance=\"10\" />\n        )}\n      />\n    </div>\n  );\n};\n\nconst ScreenshotItem = ({ title, image, distance = 0 }) => {\n  return (\n    <div\n      className=\"carousel-item\"\n      style={{\n        borderLeft: `${parseInt(distance) / 2}px solid hsl(220, 13%, 18%, 80%)`,\n        borderRight: `${\n          parseInt(distance) / 2\n        }px solid hsl(220, 13%, 18%, 80%)`,\n      }}\n    >\n      <div className=\"carousel-image\">\n        <img\n          src={`http:${image}`.replace(\"t_thumb\", \"t_screenshot_huge\")}\n          alt={title}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst StoreItem = ({ storeInfo, icon, name }) => {\n  const { url, prices } = storeInfo;\n  const discount = parseInt(prices.discount.match(/\\d+/));\n\n  return (\n    <a\n      className=\"store-item\"\n      href={url}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      onClick={(e) => e.stopPropagation()}\n    >\n      <div id=\"store-item-steam\" className=\"store-item-icon\">\n        <img src={icon} alt=\"steam logo\" />\n      </div>\n      <div className=\"store-item-name\">\n        <span>{name}</span>\n      </div>\n      <div className=\"store-item-prices\">\n        {prices && prices.discount && discount > 0 && (\n          <span className=\"store-item-discount\">{prices.discount}</span>\n        )}\n        {prices && prices.fullPrice && discount > 0 && (\n          <span className=\"store-item-fullprice\">{prices.fullPrice}</span>\n        )}\n        {prices && prices.currentPrice && (\n          <span className=\"store-item-currentprice\">{prices.currentPrice}</span>\n        )}\n      </div>\n    </a>\n  );\n};\n\nconst GameWishlist = ({ gameid, wishlistedBy }) => {\n  const { token, user } = userStore((state) => state);\n  const { isWishlisted, addToWishlist, removeFromWishlist } =\n    useWishlists(gameid);\n  const [isFetching, setIsFetching] = useState(false);\n  const { setShowLoginForm } = layoutStore((state) => state);\n  const [wishlistCount, setWishlistCount] = useState(0);\n\n  useEffect(() => {\n    setWishlistCount(wishlistedBy.count);\n  }, [wishlistedBy]);\n\n  async function addRemoveWishlist() {\n    if (!user) {\n      return setShowLoginForm(true);\n    }\n\n    setIsFetching(true);\n\n    if (isWishlisted) {\n      removeFromWishlist(gameid);\n      setWishlistCount(wishlistCount - 1);\n\n      const { success } = await fetchAddRemoveWishlist(gameid, token);\n\n      if (!success) {\n        setWishlistCount(wishlistCount + 1);\n        addToWishlist(gameid);\n      }\n    } else {\n      addToWishlist(gameid);\n      setWishlistCount(wishlistCount + 1);\n\n      const { success } = await fetchAddRemoveWishlist(gameid, token);\n\n      if (!success) {\n        setWishlistCount(wishlistCount - 1);\n        removeFromWishlist(gameid);\n      }\n    }\n\n    setIsFetching(false);\n  }\n\n  return (\n    <div className=\"game-wishlist\">\n      <div className=\"wishlist-button\" onClick={addRemoveWishlist}>\n        {isWishlisted ? (\n          <>\n            {isFetching ? (\n              <img src={loading} alt=\"loading\" />\n            ) : (\n              <span>Wishlisted</span>\n            )}\n          </>\n        ) : (\n          <>\n            {isFetching ? (\n              <img src={loading} alt=\"loading\" />\n            ) : (\n              <span>Add to Wishlist</span>\n            )}\n          </>\n        )}\n      </div>\n      <div className=\"wishlist-count\">\n        <span>{wishlistCount} Wishlists</span>\n      </div>\n    </div>\n  );\n};\n\nexport default GamePage;\n"]},"metadata":{},"sourceType":"module"}